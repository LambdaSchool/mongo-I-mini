!function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="S:\\Development\\LambdaSchool\\JavaScript\\Week_7\\mongo-I-mini",r(r.s=0)}([function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.handleUserError=void 0;var o=t(3),a=n(o),s=t(4),u=(n(s),t(2)),i=n(u),l=t(5),c=n(l),d=t(1),f=(n(d),t(6)),g=(0,a.default)();i.default.Promise=global.Promise,i.default.connect("mongodb://localhost/mongoi-mini",{useMongoClient:!0}),g.use(c.default.json()),g.use(a.default.static("public",{index:!1})),g.get("/",function(e,r){return r.redirect("/bears")}),g.get("/bears",f.getBears),g.get("/bears/:id",f.getBearByID),g.post("/bears",f.postBear),g.delete("/bears/:id",f.deleteBearByID),g.listen(3e3),console.log("Server running at http:/localhost/:3000"),r.default=g;r.handleUserError=function(e,r){r.status(422).send(e)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(2),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=o.default.Schema,s=new a({species:{type:String,required:!0},latinName:{type:String,required:!0},createdAt:{type:Date,default:Date.now}});r.default=o.default.model("Bear",s)},function(e,r){e.exports=require("mongoose")},function(e,r){e.exports=require("express")},function(e,r){e.exports=require("express-session")},function(e,r){e.exports=require("body-parser")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(7);Object.defineProperty(r,"getBears",{enumerable:!0,get:function(){return n.getBears}}),Object.defineProperty(r,"getBearByID",{enumerable:!0,get:function(){return n.getBearByID}});var o=t(8);Object.defineProperty(r,"postBear",{enumerable:!0,get:function(){return o.postBear}});var a=t(9);Object.defineProperty(r,"deleteBearByID",{enumerable:!0,get:function(){return a.deleteBearByID}})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getBearByID=r.getBears=void 0;var n=t(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=t(0);r.getBears=function(e,r){console.log("======/bear | GET======"),console.log("  Request: "+e.originalUrl),console.log("  From: "+e.headers.origin);var t=[];o.default.find().exec(function(e,n){if(null!=n&&n.forEach(function(e){return t.push(e)}),0===t.length)return r.send({umm:"Well... This is awkward."});r.send({bears:t})})},r.getBearByID=function(e,r){console.log("======/bear/:id | GET======"),console.log("  Request: "+e.originalUrl),console.log("  From: "+e.headers.origin),console.log("  Params: "+JSON.stringify(e.params)),o.default.findOne().where("_id").equals(e.params.id).exec(function(e,t){if(null!=t)return r.send(t);(0,a.handleUserError)({error:"This place you have come to is bare of bears."},r)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.postBear=void 0;var n=t(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=t(0);r.postBear=function(e,r){console.log("======/bear | POST======"),console.log("  Request: "+e.originalUrl),console.log("  From: "+e.headers.origin),console.log("  Data: "+JSON.stringify(e.body));var t=e.body,n=t.species,s=t.latinName,u=[];if(null==n&&u.push("species"),null==s&&u.push("latinName"),u.length>0)return(0,a.handleUserError)({error:"You are missing some real serious data.",missing:u},r);new o.default({species:n,latinName:s}).save(function(e,t){if(e)return(0,a.handleUserError)(e,r);r.json(t)})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deleteBearByID=void 0;var n=t(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=t(0);r.deleteBearByID=function(e,r){console.log("======/bears/:id | DELETE======"),console.log("  Request: "+e.originalUrl),console.log("  From: "+e.headers.origin),console.log("  Params: "+JSON.stringify(e.params)),o.default.findOne().where("_id").equals(e.params.id).exec(function(e,t){if(null!=t)return o.default.deleteOne(t).then(function(e,n){return r.send({action:"DELETE",bear:t,result:n})});(0,a.handleUserError)({error:"RAAAAARRRR!!! Did that scare you? There wasn't even a bear here. It was just me."},r)})}}]);